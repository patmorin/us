\documentclass[kpfonts]{patmorin}
\listfiles
\usepackage{pat}
\usepackage{paralist}
\usepackage{dsfont}  % for \mathds{A}
\usepackage[utf8x]{inputenc}

\usepackage{graphicx}
\usepackage[noend]{algorithmic}

\usepackage{xcolor}
\definecolor{light-gray}{gray}{0.95}

\usepackage[normalem]{ulem}
\usepackage{cancel}
\usepackage{enumitem}

\usepackage[longnamesfirst,numbers,sort&compress]{natbib}

\usepackage{cleveref}

\newcommand{\snote}[1]{\fcolorbox{red}{yellow}{#1}}
\newcommand{\pnote}[1]{\ \newline\noindent\fcolorbox{red}{yellow}{\begin{minipage}{\textwidth}#1\end{minipage}}}
\setlength{\parskip}{1ex}

\DeclareMathOperator{\A}{\mathds{A}}
\DeclareMathOperator{\sn}{sn}
\DeclareMathOperator{\qn}{qn}
\DeclareMathOperator{\us}{us}

\renewcommand{\SS}{\mathcal{S}}

\newcommand{\Oh}{\mathcal{O}}


%Piotreks overloads
% \let\ge\geqslant
% \let\leq\leqslant
% \let\geq\geqslant
% \let\nleq\nleqslant
% \let\ngeq\ngeqslant
% \let\le\leqslant
%%Piotrek end

\newcommand{\aref}[1]{(X\ref{a:#1})}
\newcommand{\alabel}[1]{\label{a:#1}}

\newcommand{\itemref}[1]{(\ref{#1})}

\title{\MakeUppercase{(Layered) Partitions versus Decompositions}}
\author{}
% \date{}

\DeclareMathOperator{\tw}{tw}
\DeclareMathOperator{\ltw}{ltw}
\DeclareMathOperator{\pw}{pw}
\DeclareMathOperator{\lpw}{lpw}
\DeclareMathOperator{\lhptw}{lhp-tw}
\DeclareMathOperator{\lhppw}{lhp-pw}

\title{\MakeUppercase{Optimal Unique-Superior Colouring of Planar Graphs}}
\author{Working Group}
%Prosenjit Bose, Vida DujmoviÄ‡, Mehrnoosh Javarsineh, and Pat Morin}

% \pagenumbering{roman}

\begin{document}
% \begin{titlepage}
\maketitle

\begin{abstract}
  A \emph{unique-superior colouring} is a labelling of the vertices of a graph with integers so that the maximum label along any path of length at most 2 is unique.  We show that every $n$-vertex planar graph has a unique-superior colouring using $O(\log n/\log\log n)$ colours.
\end{abstract}
% \end{titlepage}

% \tableofcontents

% \newpage
% \pagenumbering{arabic}

\section{Introduction}

Let $G$ be a graph.  A $k$-colouring of $G$ is a function $\varphi:V(G)\to\N$.  A colouring $\varphi:V(G)\to\N$ is \emph{proper} if, for every edge $vw\in E(G)$, $\varphi(v)\neq\varphi(w)$.  A proper colouring is a unique-superior colouring if, for every simple length-$2$ path $uvw$ in $G$, at least one of $\varphi(u)$ or $\varphi(w)$ is not equal to $\max\{\varphi(u),\varphi(v),\varphi(w)\}$.

\section{A Restatement of the Proof for Trees}

In this section we review (our interpretation of) the proof in \cite{X}.
For a non-negative integer $n$, let $[n]:=\{0,1,2,\ldots,n-1\}$.

Let $H$ be a rooted tree.  The \emph{depth} of a node $v\in H$ is the length of the path from the root $r$ of $H$ to $v$.  A path $P$ in $H$ is \emph{vertical} if no two nodes in $P$ have the same depth, otherwise the path is \emph{humped}.

A \emph{humped} us-colouring of $H$ is a proper colouring of $H$ in which, for every humped length-$2$ path $uvw$ in $H$, at least one of $\varphi(u)$ or $\varphi(w)$ is not equal to $\max\{\varphi(u),\varphi(v),\varphi(w)\}$.

\begin{lem}\label{product}
    If a rooted tree $H$ has a humped unique-superior colouring $\varphi:V(H)\to [k]$, then $H$ has a unique-superior colouring $\varphi':V(H)\to[3k]$.
\end{lem}

\begin{proof}
   For each $v\in V(H)$, let $varphi'(v)=3\varphi(v)+d_H(v)\bmod 3$.  Since $\varphi$ is a humped us-colouring of $H$ we need only consider vertical paths in $H$.  But this is trivial since for every vertical path $uvw$ in $H$, the $\varphi'(u)$, $\varphi'(v)$, and $\varphi'(w)$ are distinct.
\end{proof}

For integers $1\le i\le k$, let $f_k(i)$ be the smallest integer such that there exists an $f_k(i)$-node tree $H$ with root $r$ and some value $\ell \in\{i,\ldots,k\}$ such that $H$ does not have a humped unique-superior colouring $c:V(G)\to [k]$.

\begin{lem}\label{recursion}
    For any integers $1\le  i\le k$,
    \[
        f_k(i) \le \begin{cases}
                    k & \text{if $i=1$} \\
                    (k-i+1)\cdot f(i-1) & \text{if $i>1$}
                 \end{cases}
    \]
\end{lem}

\begin{proof}
    The proof is by induction on $i$. First consider the base case $i=1$ and let $H$ be a $f(1)$-node tree $H$ with root $r$ such that, for some $\ell\in\{1,\ldots,k\}$, $H$ does not have a a humped unique superior colouring $c:V(G)\to [k]$.  Let $r_1,\ldots,r_d$ be the children of $r$.
    Then, for each $j\in\{1,\ldots,d\}$, and each $\ell'\in[k]$, the subtree $H_j$ of $H$ rooted at $r_i$ has a humped unique-superior colouring $\varphi:V(H_j)\to[k]$ with $c(r_j)=\ell'$.  Therefore, if $d \le k-1$, we can obtain a humped unique-superior colouring of $H$ as follows:
    \begin{enumerate}
        \item Set $\varphi(r):=\ell$.
        \item For each $j\in\{1,\ldots,d\}$, assign each $r_j$ a unique colour  $\varphi(r_j)\in[k]\setminus\{\ell\}$ and extend $\varphi$ to a unique-superior colouring $\varphi:V(H_j)\to [k]$ of $H_j$.
    \end{enumerate}
    It is easy to check that $\varphi:V(H)\to[k]$ is a humped unique-superior colouring of $H$ with $\varphi(r)=\ell$.  By definition, no such colouring exists, therefore it must be the case that $d> k-1$, so $H$ has at least $k+1$ vertices.

    Next consider some $i\in\{2,\ldots,k\}$.  Let $r_1,\ldots,r_d$ be the children of $r$ ordered so that the subtrees $H_1,\ldots,H_{d'}$ each have size at least $f(i-1)$ and the subtrees $H_{d'+1},\ldots,H_d$ each have size less than $f(i-1)$.  If $d'\le k-i$, then we obtain a humped unique-superior colouring of $H$ as follows:
    \begin{enumerate}
        \item Set $\varphi(r):=\ell$.
        \item For each $j\in\{d'+1,\ldots,d\}$ set $\varphi(r_j)=i-1$ and extend this to a humped unique-superior colouring of $H_j$.
        \item For each $j\in\{1,\ldots,d'\}$, assign each $r_j$ a unique colour $\varphi(r_j)\in\{i,\ldots,k\}\setminus\{\ell\}$ and extend this to a humped unique-superior colouring of $H_j$.
    \end{enumerate}
    If $d'\le k-i$ then Step~3 is always possible since $|\{i,\ldots,k\}\setminus\{\ell\}|=k-i$. Again, it is easy to check that $\varphi:V(H)\to[k]$ is a humped unique-superior colouring of $H$ with $\varphi(r)=\ell$.  By definition, no such colouring exists, so it must be the case that $d'>k-i$. Therefore $H$ has at least $d'\cdot f_k(i-1)\ge (k-i+1)\cdot f_k(i-1)$ vertices.
\end{proof}

Unravelling the recurrence in \cref{recursion} shows that $f_k(k)\ge 1\cdot2\cdot\cdots k=k!$.  In particular, for any $n < f_k(k)=k!$, every $n$ vertex rooted tree $H$ has a humped unique-superior colouring $\varphi(H)\to[k]$. Combining this with \cref{product} yields:

\begin{thm}[\cite{X}]
    Every tree $H$ with $n<k!$ vertices has a unique-superior colouring $\varphi:V(H)\to[3k]$.
\end{thm}

Using Stirling's Approximation of $k!$ it easy to see that $n < k!$ for some $k\in\Theta(\log n/\log\log n)$.

\section{Generalization to $t$-Trees}



\section{Applying the Product Structure Theorem}


\section{Conclusions}

\end{document}
