\documentclass[xcolor=dvipsnames]{beamer}
\usepackage{ods}
%\usepackage{ods-figs}
\usepackage[cm]{sfmath}
\usepackage[utf8]{inputenc}
\usepackage{array}
%\usepackage{enumitem}
%\usepackage{enumitem}
%\setitemize{itemsep=1.5ex}
%\setlength{\leftmargini}{0pt}
\usepackage{array}

\newcommand{\caressed}{$\kappa$aressed}
\newcommand{\caresses}{$\kappa$aresses}
\newcommand{\R}{\mathbb{R}}
\newcommand{\dual}[1]{#1^\star}
\newcommand{\Fary}{F\'ary}
\newcommand{\N}{\mathbb{N}}

\DeclareMathOperator{\tw}{tw}
\DeclareMathOperator{\td}{td}

\title{Asymptotically Optimal Vertex Ranking \newline of Planar Graphs (and Beyond)}
\author{Jit Bose \and Vida DujmoviÄ‡ \and Mehrnoosh Javarsineh \and Pat Morin}
\titlegraphic{\includegraphics[height=1em]{by}}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}
    \frametitle{Outline}

    \tableofcontents
\end{frame}

\begin{frame}
  \frametitle{Three Graph Colouring Parameters}
  \framesubtitle{(Not really)}

  \begin{itemize}
    \item \emph{vertex colouring:} $\varphi:V(G)\to\N$\vspace{.5cm}

    \item \emph{centered colouring:} for every \emph{connected} $S\subseteq G$, some colour appears exactly once in $S$.
    
    \item \emph{(subgraph) vertex ranking:} for every \emph{connected} $S\subseteq G$, $\max\{\varphi(v):v\in V(S)\}$ appears exactly once in $S$.
    
    \item \emph{(path) vertex ranking:} for every \emph{path} $P$ in $G$ $\max\{\varphi(v):v\in V(P)\}$ appears exactly once in $P$.
    
    \item \emph{(endpoint) vertex ranking:} for every induced path $v_0,\ldots,v_p$ in $G$, $\varphi(v_0)\neq \phi(v_p)$ or $\varphi(v_0)<\max\{\varphi(v_1),\ldots,\varphi(v_{p-1})\}$.\vspace{.5cm}
    % \item \emph{treedepth:} The minimum height of a rooted tree whose closure contains $G$.
    
    \item<2->All equivalent, all require \emph{treedepth}, $\td(G)$ colours
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Treedepth}

  Examples:
  \begin{itemize}
    \item For $n$-vertex path $P$, $\td(P)=\lceil \log_2 (n+1)\rceil$
    \item For complete binary tree $T$ of height $h$, $\td(T)=h$
    \item For $n$-vertex treewidth-$t$ $G$, $\td(G)\in O(t\log n)$
    \item For $n$-vertex planar graph $G$ $\td(G)\in O(\sqrt{\log n})$
  \end{itemize}  
\end{frame}


\begin{frame}
  \frametitle{Local versions}

  \begin{itemize}
    \item \emph{$p$-centred colouring}: every connected $S\subseteq G$ has a unique colour or uses $>\!\!p$ colours
    
    \item \emph{$p$-linear colouring}: every path $P$ in $G$ has a unique colour or uses $>\!\!p$ colours
    
    \item \emph{$\ell$-vertex ranking}: every path $v_0,\ldots,v_r$ in $G$ with length $p\le\ell$ has $\varphi(v_0)\neq\varphi(v_p))$ or $\varphi(v_0)<\max\{\varphi(v_1),\ldots,\varphi(v_{p-1})\}$.
    
    \item For fixed any $p$, first two are bounded for all \emph{bounded expansion} graph classes. Including, for example, planar graphs.
    
    \item What about $\ell$-vertex ranking?
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{$\ell$-vertex ranking}
  
  \begin{itemize}
    \item Let $\chi_\ell(G)=\min\{k:\mbox{$G$ has $\ell$-vertex ranking using $k$ colours}\}$  
    
    \item<2->[]\textbf{Theorem (Karpas-Neiman-Smorodinsky 2016):} 
    \begin{itemize}
      \item every $n$-vertex tree $T$ has $\chi_2(T)\in O(\log n/\log\log n)$
      \item there exists $n$ vertex tree $T$ with $\chi_2(T)\in\Omega(\log n/\log\log n)$
    \end{itemize}
    
    \item<3->[]\textbf{Theorem (Karpas-Neiman-Smorodinsky 2016):} For any fixed $\ell$, every $n$-vertex planar graph $G$ has $\chi_\ell(G)\in O(\log n)$.
    
    \item<4->What is the correct answer for planar graphs, $\log n$ or $\log n/\log\log n$?
    
    \item<5->[]\textbf{Theorem 1: } For any fixed $\ell$, 
    \begin{itemize} 
      \item every $n$-vertex planar $G$ has $\chi_\ell(G)\in O(\log n/\log\log\log n)$
      \item there exists $n$-vertex planar $G$ with $\chi_2(G)\in\Omega(\log n/\log\log\log n)$.
    \end{itemize}
  \end{itemize}
\end{frame}



\begin{frame}
  \frametitle{Why three logs?}
  \begin{itemize}[<+->]
    \item Trees: $\log n/\log\log n$
    \item Outerplanar graphs: $\log n/\log\log n$ (using same techniques)
    \item $2$-Trees: $\log n/\log\log\log n$ \alert{(!)}
    \item Planar $3$-trees: $\log n/\log\log\log n$
    \item $3$-trees: $\log n/\log\log\log\log n$
    \item[]$\cdots$
    \item Planar graphs: $\log n/\log\log\log n$
    \begin{itemize}[<+->]
      \item Why?
      \item Because $G\subseteq H\boxtimes P\boxtimes K_3$ where $H$ is a planar 3-tree
    \end{itemize}
  \end{itemize}
\end{frame}


\begin{frame}
  \frametitle{The upper bound}
  \framesubtitle{The easy part}
  
  \begin{itemize}[<+->]
    \item Planar $G$ is contained in $H\boxtimes (P\boxtimes K_3)$
    \item \textbf{Lemma:} For any graphs $H$ and $R$, $\chi_\ell(H\boxtimes R) \le \chi_\ell(H)\times \chi(R^\ell)$.
    \item[] \textit{Proof:} Use a product colouring:
    \begin{itemize}
      \item $\ell$-vertex ranking $\varphi$ of $H$
      \item distance-$\ell$ colouring $\psi$ of $R$
    \end{itemize}
    \item[] path $P$ projects to a walk $W$ in $H$ with unique max $v$ under $\varphi$
    \item[] $\psi$ is distinct for each occurrence of $v$ in $W$ \hfill\qed
    
    \item $R:=P\boxtimes P_3$ has a distance-$\ell$ colouring using $3\ell$ colours
    \item ``Just'' need to show that $\chi_\ell(H)\in O(\log n/\log\log\log n)$ when $H$ is a planar $3$-tree.
  \end{itemize}
\end{frame}


\begin{frame}
  \frametitle{Simple Treewidth}
  \framesubtitle{path, outerplanar, planar 3-tree, linkless embeddable, \ldots}
  
  \begin{itemize}[<+->]
    \item $H$ has \emph{simple treewidth}\footnote{Useful reference: Bachelorthesis of Lasse Wulf} at most $t$ if it has a \emph{tree decomposition} $(B_x:x\in V(T))$ such that
    \begin{itemize}
      \item $\max\{|B_x|:x\in V(T)\}\le t+1$
      \item for each $S\in \binom{V(H)}{t}$ there are most two nodes $x\in V(T)$ with $S\subseteq B_x$ 
    \end{itemize}
    \item simple $1$-tree: path
    \item simple $2$-tree: (edge maximal) outerplanar graph
    \item simple $3$-tree: planar $3$-tree
    \item simple $4$-tree: linkless embeddable 
    \item[]\textbf{Theorem 2:} For every fixed $t,\ell\in\N$ 
    \begin{itemize}
      \item every $n$-vertex simple $t$-tree $H$ has $\chi_\ell(H)\in O(\log n/\log^{(t)} n)$
      \item there exists $n$-vertex simple $t$-trees $H$ with $\chi_2(H)\in\Omega(\log n/\log^{(t)} n)$
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Proof of Theorem 2}

  \textbf{Theorem 2:} For every fixed $t,\ell\in\N$ 
  \begin{itemize}
    \item every $n$-vertex simple $t$-tree $H$ has $\chi_\ell(H)\in O(\log n/\log^{(t)} n)$
    \item there exists $n$-vertex simple $t$-trees $H$ with $\chi_2(H)\in\Omega(\log n/\log^{(t)} n)$
  \end{itemize}
  
  \begin{itemize}
    \item Proof is by induction on $t,n$
    \item Base case, $t=1$, $G$ is a path and $\chi_\ell(G)\le\chi(G^\ell)\le\ell+1$
    \item Inductive step (main ideas):
    \begin{itemize}
      \item Look at first $\ell+1$ BFS layers $L_0,\ldots,L_\ell$ where $L_0$ is root bag in a $t$-simple tree-decomposition of $G$
      \item Stronger IH lets us precolour $L_0$ with (sufficiently large) colours
      \item Stronger lemma allows us to handle graphs with $\ell+1$ layers and put lower bounds on colours of vertices in $L_\ell$. 
      \item proof of stronger lemma uses induction on $t$ internally to "save a little" in $L_{\ell}$ (which only has stw $t-1$)
      \item lower bounds are assigned to vertices in $L_{\ell}$ based on size of component in $H_{\ge\ell}:=H[\bigcup_{i={\ell}}^h L_i]$ that they belong to
      \item now apply induction (on $n$) on each component of $H_{\ge\ell}$, root colours precoloured but these colours are big enough.
    \end{itemize}
  \end{itemize}
  
\end{frame}


\end{document}

 Colour vertices of $G$ so that every path of length at most $\ell$
    \item $G$ is \emph{$k$-planar} if it has a drawing with $\le\!\! k$ crossings per edge
    \begin{center}
      % \multiinclude[<+>][format=pdf,start=1]{figs/k-planar}%
    \end{center}
      \item<4-> Is $G\subseteq H\boxtimes P$ where $\tw(H)\le f(k)$?
  \end{itemize}
\end{frame}

\end{document}


\begin{frame}
    \frametitle{$(k,d)$-Shortcut Systems}
    \framesubtitle{An abstraction of $k$-planarity}

    \begin{itemize}
        \item \emph{$(k,d)$-shortcut system} for $G$:
        \begin{itemize}
            \item<2-> a set $\mathcal{P}$ of length-$\le\!\! k$ paths in $G$
            \item<2-> each $v\in V(G)$ appears interior to at most $d$ paths in $\mathcal{P}$
        \end{itemize}
    \end{itemize}
    \begin{center}
        \multiinclude[<+>][format=pdf,start=1]{figs/shortcut-system}%
        \uncover<2->{\\ $(3,2)$-shortcut system}
    \end{center}
    \begin{itemize}
        \item<3-> $G^{\mathcal{P}}:= G\cup\{vw:\mbox{$v$ and $w$ are endpoints of a path in $\mathcal{P}$}\}$
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Observation}
    \framesubtitle{Crossed edges are just shortcuts in a planar graph}

    If $G$ is $k$-planar then $G\subseteq G_0^{\mathcal{P}}$ where
    \begin{itemize}
        \item<2-> $G_0$ is planar
        \item<3-> $\mathcal{P}$ is a $(k+1,2)$-shortcut system
    \end{itemize}
    \begin{center}
        \multiinclude[<+>][format=pdf,start=1]{figs/kgp}%
    \end{center}
\end{frame}

\begin{frame}
  \frametitle{Main Theorem}
  \framesubtitle{If $G$ has product structure then so does $G^{\mathcal{P}}$}
  \textbf{Main Theorem:} \newline
  If $G\subseteq H\boxtimes P\boxtimes K_\ell$
  \begin{itemize}
    \item  $\tw(H)\le t$
    \item $\mathcal{P}$ is a $(k,d)$-shortcut system for $G$
  \end{itemize}
  then $G^\mathcal{P}\subseteq H'\boxtimes P\boxtimes K_{\ell'}$
  \begin{itemize}
    \item $\tw(H') \le t'=\binom{k+t}{t}-1$ and
    \item $\ell'=d\ell(k^3+3k)$
    % \item $K'$ is a clique of order $d\ell(k^3+3k)$
  \end{itemize}
  \vspace{1cm}
  \uncover<2->{\textbf{Example:} $G'$ is ${\color{red} k}$-planar
    \begin{itemize}
      \item $t=3$, $\ell=3$, $d=2$, $k={\color{red}k}+1$
      \item $t'=O(k^3)$, $\ell'=O(k^3)$
    \end{itemize}
  }
\end{frame}



\begin{frame}
    \frametitle{Applications}
    \framesubtitle{(Besides $k$-planar graphs)}

    \textbf{($\mathcal{G}$) Graphs:} any subgraph of $G^\mathcal{P}$ where $G$ has \emph{product structure}
    \begin{itemize}
        \item $(g,k)$-planar graphs
        \item $(g,\delta)$-string graphs
        \item $k$-nearest neighbour graphs of $2d$ point sets
        \item bounded-degree graphs from proper minor-closed families
        \item any $G^k$ where $G$ has bounded-degree and product structure
    \end{itemize}

    \textbf{($\mathcal{A}$) Applications:}
    \begin{itemize}
        \item queue layouts
        \item non-repetitive colouring
        \item $p$-centered colouring and $\ell$-vertex ranking
        \item universal graphs
    \end{itemize}

    Anything in $\mathcal{G}\times \mathcal{A}$
\end{frame}

\section{Proof of Main Theorem}

\begin{frame}
  \frametitle{Mental Map of $H\boxtimes P\boxtimes K_{\ell}$}
  \begin{itemize}
    \item $H\uncover<2->{\boxtimes P\uncover<3->{\boxtimes K_{\ell}}}$
  \end{itemize}
  \begin{center}
    \multiinclude[<+>][format=pdf,start=1]{figs/product-x}%
  \end{center}
\end{frame}

\begin{frame}
  \frametitle{Shortcuts over multiple rows}

  \begin{itemize}
    \item Shortcuts in $\mathcal{P}$ may jump up to $k$ rows
    \item $G^\mathcal{P}$ will have edges between non-consecutive rows
    \item<2-> Easy solution: Compress $k$ rows into one
  \end{itemize}
    \begin{center}
    \only<1>{\includegraphics{figs/layer-compression-1}}%
    \only<2->{\includegraphics{figs/layer-compression-2}}%
    \end{center}
  \begin{itemize}
    \item<3-> Increases $\ell$ by a factor of $k$
    \item<4-> $\mathcal{P}$ is a $(k,d)$-shortcut system over $H\boxtimes P\boxtimes K_{\ell k}$ with all shortcuts crossing $\le\!\! 1$ layers
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Projecting shortcuts onto $H\boxtimes P$}

  \begin{itemize}
    \item<2-> Contract each copy of $K_{k\ell}$, so we are left with $H\boxtimes P$
  \end{itemize}
    \begin{center}
    \only<1-2>{\includegraphics{figs/layer-compression-2}}%
    \only<3->{\includegraphics{figs/layer-compression-3}}%
    \end{center}
  \begin{itemize}
    \item<3-> Each vertex of $H\boxtimes P$ is used in at most $dk\ell$ shortcuts
    \item<4-> $(k,dk\ell)$-shortcut system $\mathcal{P'}$ over $H\boxtimes P$
    \item<4-> shortcuts still span $\le\!\!1$ rows
  \end{itemize}
\end{frame}


\begin{frame}
  \frametitle{Nice Tree Decompositions}
  \framesubtitle{Nodes of $T$ are same as vertices of $H$}

  \begin{itemize}
    \item A \emph{nice} rooted tree decomposition $\mathcal{T}=(B_x:x\in V(T))$ of $H$ has
    \begin{itemize}
      \item $V(T) = V(H)$
      \item $x$ is root of $T_x:=T[\{x'\in V(T):x\in B_{x'}\}]$
    \end{itemize}
    \begin{center}
      \includegraphics[scale=.8]{figs/nice-td}
    \end{center}
    \item<2-> Tree decomp implies: If $xy\in E(H)$ then $x\prec_T y$ or $y\prec_T x$
  \end{itemize}
\end{frame}


\begin{frame}
  \frametitle{Alternative View}
  \framesubtitle{Constructing the bags from the tree}
  
  \begin{itemize}
    \item<1-> Start with $T$ such that $x\prec_T y$ or $y\prec_T x$ for each $xy\in E(H)$
    \item<2-> $B_x\gets\{x\}$ for each $x\in V(T)$
    \item<3-> If $xy\in E(H)$ and $x\prec_T y$ then drag $x$ down into $B_y$
  \end{itemize}
  \begin{center}
    \multiinclude[<+>][format=pdf,start=1]{figs/alternative-view}%
  \end{center}
\end{frame}


\begin{frame}
  \frametitle{A Useful Lemma}

  \textbf{Lemma (Pilipczuk--Siebertz):}\footnote{Yes, the same paper!} For any $z\in V(H)$ the number of $x\in V(H)$ such that $x\prec_T z\prec_T z'$ and $\mathop{dist}_H(x,z')\le k$ is at most $\binom{k+t}{t}$.
  \begin{center}
    \multiinclude[<+>][format=pdf,start=1]{figs/pz}%
  \end{center}
  \begin{itemize}
      \item<2->Problem: $vw$-shortcut in $H\boxtimes P$ projects onto $xz'$ shortcut in $H$, but $x\not\preceq_T z'$ and $z'\not\preceq_T x$
  \end{itemize}
\end{frame}




\begin{frame}
  \frametitle{Projecting shortcuts onto $T$}

  \begin{itemize}
    \item A shortcut in $I\in\mathcal{P'}$
    \begin{itemize}
      \item<2-> is a path $I$ in $G'=H\boxtimes P$
      \item<3-> $I$ projects onto a walk $W$ in $H$
      \item<4-> $W$ is a sequence $S_I$ of nodes in $T$
    \end{itemize}
  \end{itemize}
  \begin{center}
    \multiinclude[<+>][format=pdf,start=2,end=5]{figs/nice-td}%
  \end{center}
\end{frame}

\begin{frame}
  \frametitle{Lifting in $T$}
  \begin{itemize}
    \item For $v$ in $H\boxtimes P$, $a(v)$ is the LCA of $\cup\{S_I:I\in\mathcal{P'},\, v\in V(I)\}$
    \item For $x\in V(T)$, $S_x:=\{v\in V(G): a(v)=x\}$
    \begin{center}
      \includegraphics[scale=.8]{figs/nice-td-6}%
    \end{center}
    \item<2-> $\mathcal{S}:=(S_x:x\in V(T))$ is a partition of $V(G)$
    \item<3->[$(\star)$] For any $vw$-shortcut in $H\boxtimes P$, $a(v)\preceq_T a(w)$ or $a(w)\preceq_T a(v)$
\end{itemize}
\end{frame}


\begin{frame}
  \frametitle{Now the Crazy Part}

  \begin{itemize}
      \item[$(\star)$] For any $vw$-shortcut in $H\boxtimes P$, $a(v)\preceq_T a(w)$ or $a(w)\preceq_T a(v)$
  \end{itemize}

    \vspace{.5cm}
    Let $H':=G/\mathcal{S}$
    \vspace{.5cm}

    \textbf{Claim:} $\tw(H')\le\binom{k+t}{t}-1$\\
    \vspace{.5cm}
    \uncover<2->{\textit{Proof:}}
    \begin{itemize}
      \item<2-> Each $x\in V(H')$ is obtained by contracting $S_x$
      \item<3-> Start with $T$ from nice tree decomposition of $H$ (not $H'$)
      \item<4-> For each $xz'\in E(H')$ where $x\prec_T z$, drag $x$ down into $B_z'$
      \item<5-> Correctness follows from $(\star)$\footnote{Technicality: Assume $\mathcal{P}$ contains a length-$1$ shortcut for each edge of $H\boxtimes P$}
      \item<6-> Point: If $x\in B_{z}$ then
      \begin{itemize}
          \item $x\prec_T z\prec_T z'$ for some $z'$ and
          \item $\mathop{dist}_{H}(x,z')\le k$ (because shortcuts have length $\le\!\!k$).
      \end{itemize}
      \item<7-> By Pilipczuk-Siebertz Lemma, $|B_{z'}|\le \binom{k+t}{t}$.
      \hfill{\qed}
    \end{itemize}
\end{frame}


\begin{frame}
  \frametitle{Finishing Up}
  \framesubtitle{Verifying the layered width}

  \begin{itemize}
    \item $\mathcal{P'}$: a $(k,dk\ell)$-shortcut system over $H\boxtimes P$.
    \item Obtained from $\mathcal{P}$: a $(k,d)$-shortcut system over $H\boxtimes P\boxtimes K_{k\ell}$
    \item We can show that the subset of $H\boxtimes P\boxtimes K_{\ell}$ corresponding to $S_x$ contains at most $d\ell(k^3+3k)$ vertices from each row of $H\boxtimes P\boxtimes K_{\ell}$.
    \item Implies $G^{\mathcal{P}}\subseteq H'\boxtimes P\boxtimes K_{d\ell(k^3+3k)}$
  \end{itemize}
  \vspace{1cm}
  \uncover<2->{
  \textbf{Main Theorem:} \newline
  If $G\subseteq H\boxtimes P\boxtimes K_\ell$
    \begin{itemize}
      \item  $\tw(H)\le t$
      \item $\mathcal{P}$ is a $(k,d)$-shortcut system for $G$
    \end{itemize}
    then $G^\mathcal{P}\subseteq H'\boxtimes P\boxtimes K_{\ell'}$
    \begin{itemize}
      \item $\tw(H') \le t'=\binom{k+t}{t}-1$ and
      \item $\ell'=d\ell(k^3+3k)$
      % \item $K'$ is a clique of order $d\ell(k^3+3k)$
    \end{itemize}
  }
\end{frame}

\begin{frame}
  \frametitle{Discussion}
  
  \begin{itemize}
    \item<1-> Optimizing for $k$-planar $G$ shows $G\subseteq H\boxtimes P\boxtimes K_\ell$ for $\tw(H)\le \binom{k+4}{3}-1$ and $\ell\le 18k^{\color{red}2}+48k+30$.
    
    \item<2-> Optimizing for $1$-planar $G$ shows $G\subseteq H\boxtimes P\boxtimes K_{30}$ with $\tw(H)\le 3$
    
    \item<3-> \textbf{Open Problem:} Does there exist $C\in\N$ and $f:\N\to\N$ such that for $k$-planar $G$,  $G\subseteq H\boxtimes P\boxtimes K_{f(k)}$ where $\tw(H)\le C$? \uncover<4->{(Maybe $C=3$)}\vspace{1.5cm}
    
    \item<5->[] \centerline{\Large\bfseries Thank You!}
  \end{itemize}
  
\end{frame}


% \begin{frame}
%
%
% \end{frame}
%



\end{document}
